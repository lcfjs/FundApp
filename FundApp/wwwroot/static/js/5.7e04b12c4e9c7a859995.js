webpackJsonp([5],{"/o5Y":function(e,t){},BU7p:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("X2Oc"),i=a("vLgD"),o={name:"dayAllChart",data:function(){return{msg:"fundList!!!",fullscreenLoading:!1,dayChart:null,dateRanges:"",fundCode:["257070"],addCode:"",tableData:[],activeName:"chart",fundCodes:[],pageIndex:n.b,pageSize:n.c,total:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},colors:["#409EFF","#67C23A","#E6A23C","#F56C6C","#7FFFAA","#FFD700","#00FF00"]}},mounted:function(){this.dayChart=this.$echarts.init(document.getElementById("dailyChart")),this.getFundCodes()},methods:{search:function(e){if(0==this.fundCode.length)return this.$alert("要选择代码啊，大兄弟！！！","提示",{confirmButtonText:"确定",callback:function(e){}}),!1;this.fullscreenLoading=!0,this.getChartData(this.fundCode)},prefix:function(e){return"cahrt_"+e},getFundCodes:function(){var e=this;Object(i.a)({url:"/Home/GetGatherList",params:null}).then(function(t){t&&(t.data.forEach(function(e){e.name=e.name+"("+e.code+")"}),e.fundCodes=t.data)})},getChartData:function(){var e=this,t=null,a=null;this.dateRanges&&(t=Object(n.a)(new Date(this.dateRanges[0]),"yyyy-MM-dd"),a=Object(n.a)(new Date(this.dateRanges[1]),"yyyy-MM-dd")),Object(i.a)({url:"/Home/GetAllChartData",methods:"get",params:{fundCodes:this.fundCode.join(","),date1:t,date2:a}}).then(function(t){e.fullscreenLoading=!1;var a=t.data;if(a){var i=0;e.fundCode.forEach(function(t){var o=a.listY.filter(function(e){return e.code==t}),r=e.$echarts.init(document.getElementById("cahrt_"+t)),c={tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]},formatter:function(e){return e[0].seriesName+"<br/>"+Object(n.a)(new Date(e[0].axisValue),"yyyy-MM-dd")+"<br/>"+e[0].value+"%"}},legend:{data:l},title:{left:"center"},xAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:function(e){return Object(n.a)(new Date(e),"yyyy-MM-dd")}},data:a.x},yAxis:{type:"value"},series:{name:"["+o[0].name+"("+o[0].code+")]累计净值增长率",type:"line",showSymbol:!1,itemStyle:{color:e.colors[i]},data:o[0].y}};r.setOption(c),i++}),i=0;var o=[],l=[];a.listY.forEach(function(t){o.push({name:"["+t.code+"]累计净值增长率",type:"line",itemStyle:{color:e.colors[i]},data:t.y}),l.push(t.name+"("+t.code+")"),++i>e.colors.length&&(i=parseInt(Math.random()*(e.colors.length+1)))});var r={tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},legend:{data:l},title:{left:"center",text:e.fundCode},xAxis:{type:"category",boundaryGap:!1,axisLabel:{formatter:function(e){return Object(n.a)(new Date(e),"yyyy-MM-dd")}},data:a.x},yAxis:{type:"value"},series:o};e.dayChart.setOption(r)}}).catch(function(t){e.fullscreenLoading=!1,console.log(t)})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{"element-loading-text":"拼命加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("el-row",[a("el-col",{staticClass:"col1",attrs:{span:6}},[a("el-select",{staticStyle:{width:"310px"},attrs:{placeholder:"请选择",multiple:""},on:{change:function(e){}},model:{value:e.fundCode,callback:function(t){e.fundCode=t},expression:"fundCode"}},e._l(e.fundCodes,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),a("el-col",{staticClass:"col1",attrs:{span:6}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:function(e){}},model:{value:e.dateRanges,callback:function(t){e.dateRanges=t},expression:"dateRanges"}})],1)]),e._v(" "),a("el-col",{staticClass:"col1",attrs:{span:12}},[a("el-button",{on:{click:e.search}},[e._v("查询")])],1)],1),e._v(" "),a("el-row",[a("el-tabs",{on:{"tab-click":function(e){}},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("div",{staticStyle:{width:"100%",height:"220px"},attrs:{id:"dailyChart"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"",name:"chart"}},e._l(e.fundCode,function(t){return a("div",{key:t,staticStyle:{width:"100%",height:"220px"},attrs:{id:e.prefix(t)}})}),0)],1)],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(e){a("/o5Y")},"data-v-314480c4",null);t.default=r.exports}});
//# sourceMappingURL=5.7e04b12c4e9c7a859995.js.map